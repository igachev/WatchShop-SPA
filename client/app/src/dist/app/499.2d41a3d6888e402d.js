"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[499],{7499:(Ne,w,_)=>{_.r(w),_.d(w,{WatchModule:()=>ke});var p=_(6814),S=_(6208),c=_(95),q=_(9862),e=_(9468);function U(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.previous())})("click",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.previous())}),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.previousLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function L(n,r){if(1&n&&(e.TgZ(0,"span",14),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.previousLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function k(n,r){if(1&n&&(e.TgZ(0,"li",9),e.YNc(1,U,4,2,"a",10),e.YNc(2,L,4,2,"span",11),e.qZA()),2&n){e.oxw(2);const t=e.MAs(1);e.ekj("disabled",t.isFirstPage()),e.xp6(1),e.Q6J("ngIf",1<t.getCurrent()),e.xp6(1),e.Q6J("ngIf",t.isFirstPage())}}function J(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t);const a=e.oxw().$implicit;e.oxw(2);const o=e.MAs(1);return e.KtG(o.setCurrent(a.value))})("click",function(){e.CHM(t);const a=e.oxw().$implicit;e.oxw(2);const o=e.MAs(1);return e.KtG(o.setCurrent(a.value))}),e.TgZ(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"number"),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(2),e.hij("",i.screenReaderPageLabel," "),e.xp6(2),e.Oqu("..."===t.label?t.label:e.xi3(5,2,t.label,""))}}function R(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",16)(2,"span",13),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"number"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(3),e.hij("",i.screenReaderCurrentLabel," "),e.xp6(2),e.Oqu("..."===t.label?t.label:e.xi3(6,2,t.label,""))}}function N(n,r){if(1&n&&(e.TgZ(0,"li"),e.YNc(1,J,6,5,"a",10),e.YNc(2,R,7,5,"ng-container",15),e.qZA()),2&n){const t=r.$implicit;e.oxw(2);const i=e.MAs(1);e.ekj("current",i.getCurrent()===t.value)("ellipsis","..."===t.label),e.xp6(1),e.Q6J("ngIf",i.getCurrent()!==t.value),e.xp6(1),e.Q6J("ngIf",i.getCurrent()===t.value)}}function Y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.next())})("click",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.next())}),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.nextLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function E(n,r){if(1&n&&(e.TgZ(0,"span",14),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.nextLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function F(n,r){if(1&n&&(e.TgZ(0,"li",17),e.YNc(1,Y,4,2,"a",10),e.YNc(2,E,4,2,"span",11),e.qZA()),2&n){e.oxw(2);const t=e.MAs(1);e.ekj("disabled",t.isLastPage()),e.xp6(1),e.Q6J("ngIf",!t.isLastPage()),e.xp6(1),e.Q6J("ngIf",t.isLastPage())}}function Q(n,r){if(1&n&&(e.TgZ(0,"ul",4),e.YNc(1,k,3,4,"li",5),e.TgZ(2,"li",6),e._uU(3),e.qZA(),e.YNc(4,N,3,6,"li",7),e.YNc(5,F,3,4,"li",8),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(1);e.ekj("responsive",t.responsive),e.xp6(1),e.Q6J("ngIf",t.directionLinks),e.xp6(2),e.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),e.xp6(1),e.Q6J("ngForOf",i.pages)("ngForTrackBy",t.trackByIndex),e.xp6(1),e.Q6J("ngIf",t.directionLinks)}}class T{constructor(){this.change=new e.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(r){return null==r.id&&(r.id=this.DEFAULT_ID),this.instances[r.id]?this.updateInstance(r):(this.instances[r.id]=r,!0)}updateInstance(r){let t=!1;for(let i in this.instances[r.id])r[i]!==this.instances[r.id][i]&&(this.instances[r.id][i]=r[i],t=!0);return t}getCurrentPage(r){return this.instances[r]?this.instances[r].currentPage:1}setCurrentPage(r,t){if(this.instances[r]){let i=this.instances[r];t<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=t&&(this.instances[r].currentPage=t,this.change.emit(r))}}setTotalItems(r,t){this.instances[r]&&0<=t&&(this.instances[r].totalItems=t,this.change.emit(r))}setItemsPerPage(r,t){this.instances[r]&&(this.instances[r].itemsPerPage=t,this.change.emit(r))}getInstance(r=this.DEFAULT_ID){return this.instances[r]?this.clone(this.instances[r]):{}}clone(r){var t={};for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t}}const D=Number.MAX_SAFE_INTEGER;let W=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,i){if(!(t instanceof Array)){let d=i.id||this.service.defaultId();return this.state[d]?this.state[d].slice:t}let l,g,a=i.totalItems&&i.totalItems!==t.length,o=this.createInstance(t,i),s=o.id,u=o.itemsPerPage,h=this.service.register(o);if(!a&&t instanceof Array){if(u=+u||D,l=(o.currentPage-1)*u,g=l+u,this.stateIsIdentical(s,t,l,g))return this.state[s].slice;{let m=t.slice(l,g);return this.saveState(s,t,m,l,g),this.service.change.emit(s),m}}return h&&this.service.change.emit(s),this.saveState(s,t,t,l,g),t}createInstance(t,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||t.length}}checkConfig(t){const a=["itemsPerPage","currentPage"].filter(o=>!(o in t));if(0<a.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${a.join(", ")}`)}saveState(t,i,a,o,s){this.state[t]={collection:i,size:i.length,slice:a,start:o,end:s}}stateIsIdentical(t,i,a,o){let s=this.state[t];return!(!s||s.size!==i.length||s.start!==a||s.end!==o)&&s.slice.every((g,u)=>g===i[a+u])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T,16))},n.\u0275pipe=e.Yjl({name:"paginate",type:n,pure:!1}),n})(),j=(()=>{class n{constructor(t,i){this.service=t,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new e.vpe,this.pageBoundsCorrection=new e.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(a=>{this.id===a&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(t);i!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const i=Math.ceil(t.totalItems/t.itemsPerPage);return i<t.currentPage&&0<i?i:t.currentPage<1?1:t.currentPage}createPageArray(t,i,a,o){o=+o;let s=[];const l=Math.max(Math.ceil(a/i),1),g=Math.ceil(o/2),u=t<=g,h=l-g<t,d=!u&&!h;let m=o<l,f=1;for(;f<=l&&f<=o;){let C,I=this.calculatePageNumber(f,t,o,l);C=m&&(2===f&&(d||h)||f===o-1&&(d||u))?"...":I,s.push({label:C,value:I}),f++}return s}calculatePageNumber(t,i,a,o){let s=Math.ceil(a/2);return t===a?o:1===t?t:a<o?o-s<i?o-a+t:s<i?i-s+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[e.TTD]}),n})();function A(n){return!!n&&"false"!==n}let B=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new e.vpe,this.pageBoundsCorrection=new e.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=A(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=A(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=A(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,i){if(1&t&&(e.TgZ(0,"pagination-template",0,1),e.NdJ("pageChange",function(o){return i.pageChange.emit(o)})("pageBoundsCorrection",function(o){return i.pageBoundsCorrection.emit(o)}),e.TgZ(2,"nav",2),e.YNc(3,Q,6,8,"ul",3),e.qZA()()),2&t){const a=e.MAs(1);e.Q6J("id",i.id)("maxSize",i.maxSize),e.xp6(2),e.uIk("aria-label",i.screenReaderPaginationLabel),e.xp6(1),e.Q6J("ngIf",!(i.autoHide&&a.pages.length<=1))}},dependencies:[j,p.O5,p.sg,p.JJ],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[T],imports:[[p.ez]]}),n})();var y=_(7253),x=_(2098),H=_(553);let b=(()=>{class n{constructor(t){this.http=t,this.url=H.N.apiUrl}create(t){return this.http.post(`${this.url}/watches/create`,t)}getAll(){return this.http.get(`${this.url}/watches`)}getOne(t){return this.http.get(`${this.url}/watches/${t}`)}deleteOne(t){return this.http.delete(`${this.url}/watches/${t}`)}editOne(t,i){return this.http.put(`${this.url}/watches/${t}`,i)}addToCart(t,i){return this.http.post(`${this.url}/watches/${i}`,{userId:t,watchId:i})}search(t){return this.http.post(`${this.url}/watches/search`,{searchValue:t})}rate(t,i,a){return this.http.post(`${this.url}/watches/${i}/rating`,{userId:t,watchId:i,userRating:a})}getRating(t){return this.http.get(`${this.url}/watches/${t}/rating`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var M=_(3934),Z=_(1022),v=_(4565);function z(n,r){1&n&&(e.TgZ(0,"p",9)(1,"small"),e._uU(2,"You must be logged in to buy"),e.qZA()())}const $=function(n){return["/watches",n,"details"]};function G(n,r){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.TgZ(2,"div",7)(3,"p",8),e._uU(4),e.qZA(),e.TgZ(5,"p",8),e._uU(6),e.qZA(),e.TgZ(7,"p",9),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"p",9)(11,"a",10),e._uU(12,"Details"),e.qZA()(),e.YNc(13,z,3,0,"p",11),e.qZA()()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",t.image,e.LSH),e.xp6(3),e.hij("Brand: ",t.brand,""),e.xp6(2),e.hij("Model: ",t.model,""),e.xp6(2),e.hij("Price: ",e.xi3(9,6,t.price,"EUR"),""),e.xp6(3),e.Q6J("routerLink",e.VKq(9,$,t._id)),e.xp6(2),e.Q6J("ngIf",!i.isLogged&&!i.isAdmin)}}const K=function(n){return{itemsPerPage:5,currentPage:n}};let X=(()=>{class n{constructor(t,i){this.watchService=t,this.userService=i,this.watches=[],this.p=1}ngOnInit(){this.getAll()}getAll(){this.subscription=this.watchService.getAll().subscribe(t=>{this.watches=t})}get isLogged(){return this.userService.isLogged()}get isAdmin(){return this.userService.isAdmin()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b),e.Y36(M.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-watches"]],decls:10,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"card-group"],["class","card",4,"ngFor","ngForOf"],[1,"pagination",3,"pageChange"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-success",3,"routerLink"],["class","card-text",4,"ngIf"]],template:function(t,i){1&t&&(e._UZ(0,"app-spinner-bootstrap"),e.TgZ(1,"div",0)(2,"h2"),e._uU(3,"All Products"),e.qZA(),e.TgZ(4,"div",1),e._UZ(5,"app-toast"),e.TgZ(6,"div",2),e.YNc(7,G,14,11,"div",3),e.ALo(8,"paginate"),e.qZA(),e.TgZ(9,"pagination-controls",4),e.NdJ("pageChange",function(o){return i.p=o}),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngForOf",e.xi3(8,1,i.watches,e.VKq(4,K,i.p))))},dependencies:[p.sg,p.O5,Z.q,v.y,B,x.rH,p.H9,W],styles:[".container-fluid[_ngcontent-%COMP%]{min-height:600px;background-color:gray;padding:10px}.container-fluid[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#494848dc;padding:0;margin:0;display:flex;justify-content:center;align-items:center;box-shadow:1px 1px 3px 2px #000}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]{margin:13px;display:flex;justify-content:center;align-items:center;height:auto;flex-wrap:wrap}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:200px;max-width:200px;margin:6px 10px;text-align:center;box-shadow:1px -1px 3px 3px #c6c8da;background-color:gray;color:#fff}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:13px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{background-color:#000;color:#6b8e23;margin-top:5px;justify-content:center}"]}),n})();var P=_(485);function ee(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Brand is required "),e.qZA())}function te(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Model is required "),e.qZA())}function ne(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Image is required "),e.qZA())}function ie(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Battery is required "),e.qZA())}function re(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Mechanism is required "),e.qZA())}function ae(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Price is required "),e.qZA())}function oe(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Strap is required "),e.qZA())}function se(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Glass is required "),e.qZA())}function ce(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Water Resistance is required "),e.qZA())}let le=(()=>{class n{constructor(t,i){this.watchService=t,this.toastService=i,this.errorMessage=""}create(t){const{brand:i,model:a,image:o,battery:s,mechanism:l,price:g,strap:u,glass:h,waterResistance:d}=t.value;this.subscription=this.watchService.create({brand:i,model:a,image:o,battery:s,mechanism:l,price:g,strap:u,glass:h,waterResistance:d}).subscribe({next:()=>{t.reset(),this.errorMessage="Successfully added new product",this.toastService.showToast("success",this.errorMessage,!0)},error:f=>{f.error instanceof ErrorEvent?(this.errorMessage="An error occurred. Please try again later.",this.toastService.showToast("error",this.errorMessage,!0)):(this.errorMessage=f.error.message||"An unknown error occurred.",this.toastService.showToast("error",this.errorMessage,!0))}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b),e.Y36(P.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-product"]],decls:86,vars:9,consts:[[1,"container-md-12"],["method","post",3,"ngSubmit"],["myForm","ngForm"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],["for","brand"],["type","text","id","brand","name","brand","ngModel","","required","",1,"form-control"],["brand","ngModel"],[4,"ngIf"],["for","model"],["type","text","id","model","name","model","ngModel","","required","",1,"form-control"],["model","ngModel"],["for","image"],["type","text","id","image","name","image","ngModel","","required","",1,"form-control"],["image","ngModel"],["for","battery"],["type","text","id","battery","name","battery","ngModel","","required","",1,"form-control"],["battery","ngModel"],["for","mechanism"],["name","mechanism","id","mechanism","ngModel","","required","",1,"form-select"],["mechanism","ngModel"],["value","","disabled","","selected",""],["value","mechanical"],["value","automatic"],["value","quartz"],["for","price"],["type","number","id","price","name","price","ngModel","","required","",1,"form-control"],["price","ngModel"],["for","strap"],["type","text","id","strap","name","strap","ngModel","","required","",1,"form-control"],["strap","ngModel"],["for","glass"],["type","text","id","glass","name","glass","ngModel","","required","",1,"form-control"],["glass","ngModel"],["for","waterResistance"],["type","text","id","waterResistance","name","waterResistance","ngModel","","required","",1,"form-control"],["waterResistance","ngModel"],[1,"btn","btn-success"]],template:function(t,i){if(1&t){const a=e.EpF();e._UZ(0,"app-spinner-bootstrap"),e.TgZ(1,"div",0)(2,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(a);const s=e.MAs(3);return e.KtG(i.create(s))}),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Brand"),e.qZA(),e._UZ(9,"input",7,8),e.YNc(11,ee,2,0,"small",9),e.qZA()()(),e.TgZ(12,"div",3)(13,"div",4)(14,"div",5)(15,"label",10),e._uU(16,"Model"),e.qZA(),e._UZ(17,"input",11,12),e.YNc(19,te,2,0,"small",9),e.qZA()()(),e.TgZ(20,"div",3)(21,"div",4)(22,"div",5)(23,"label",13),e._uU(24,"Image Link"),e.qZA(),e._UZ(25,"input",14,15),e.YNc(27,ne,2,0,"small",9),e.qZA()()(),e.TgZ(28,"div",3)(29,"div",4)(30,"div",5)(31,"label",16),e._uU(32,"Battery"),e.qZA(),e._UZ(33,"input",17,18),e.YNc(35,ie,2,0,"small",9),e.qZA()()(),e.TgZ(36,"div",3)(37,"div",4)(38,"div",5)(39,"label",19),e._uU(40,"Mechanism"),e.qZA(),e.TgZ(41,"select",20,21),e._UZ(43,"option",22),e.TgZ(44,"option",23),e._uU(45,"mechanical"),e.qZA(),e.TgZ(46,"option",24),e._uU(47,"automatic"),e.qZA(),e.TgZ(48,"option",25),e._uU(49,"quartz"),e.qZA()(),e.YNc(50,re,2,0,"small",9),e.qZA()()(),e._UZ(51,"app-toast"),e.TgZ(52,"div",3)(53,"div",4)(54,"div",5)(55,"label",26),e._uU(56,"Price"),e.qZA(),e._UZ(57,"input",27,28),e.YNc(59,ae,2,0,"small",9),e.qZA()()(),e.TgZ(60,"div",3)(61,"div",4)(62,"div",5)(63,"label",29),e._uU(64,"Strap"),e.qZA(),e._UZ(65,"input",30,31),e.YNc(67,oe,2,0,"small",9),e.qZA()()(),e.TgZ(68,"div",3)(69,"div",4)(70,"div",5)(71,"label",32),e._uU(72,"Glass"),e.qZA(),e._UZ(73,"input",33,34),e.YNc(75,se,2,0,"small",9),e.qZA()()(),e.TgZ(76,"div",3)(77,"div",4)(78,"div",5)(79,"label",35),e._uU(80,"Water Resistance"),e.qZA(),e._UZ(81,"input",36,37),e.YNc(83,ce,2,0,"small",9),e.qZA()()(),e.TgZ(84,"button",38),e._uU(85,"Submit"),e.qZA()()()}if(2&t){const a=e.MAs(10),o=e.MAs(18),s=e.MAs(26),l=e.MAs(34),g=e.MAs(42),u=e.MAs(58),h=e.MAs(66),d=e.MAs(74),m=e.MAs(82);e.xp6(11),e.Q6J("ngIf",a.errors&&a.errors.required&&a.touched),e.xp6(8),e.Q6J("ngIf",o.errors&&o.errors.required&&o.touched),e.xp6(8),e.Q6J("ngIf",s.errors&&s.errors.required&&s.touched),e.xp6(8),e.Q6J("ngIf",l.errors&&l.errors.required&&l.touched),e.xp6(15),e.Q6J("ngIf",g.errors&&g.errors.required&&g.touched),e.xp6(9),e.Q6J("ngIf",u.errors&&u.errors.required&&u.touched),e.xp6(8),e.Q6J("ngIf",h.errors&&h.errors.required&&h.touched),e.xp6(8),e.Q6J("ngIf",d.errors&&d.errors.required&&d.touched),e.xp6(8),e.Q6J("ngIf",m.errors&&m.errors.required&&m.touched)}},dependencies:[p.O5,Z.q,v.y,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F],styles:[".container-md-12[_ngcontent-%COMP%]{background-color:gray;height:1200px}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:15px 0}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#696b6ee7;width:90%;height:100px;display:flex;align-items:center;justify-content:center;border-radius:30px}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:700}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#961717e3}"]}),n})();function ge(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Brand is required "),e.qZA())}function ue(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Model is required "),e.qZA())}function de(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Image is required "),e.qZA())}function pe(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Battery is required "),e.qZA())}function he(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Mechanism is required "),e.qZA())}function me(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Price is required "),e.qZA())}function _e(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Strap is required "),e.qZA())}function fe(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Glass is required "),e.qZA())}function xe(n,r){1&n&&(e.TgZ(0,"small"),e._uU(1," Water Resistance is required "),e.qZA())}let be=(()=>{class n{constructor(t,i,a,o){this.watchService=t,this.activatedRoute=i,this.router=a,this.toastService=o}ngOnInit(){this.getOne()}getOne(){this.getWatchSubscription=this.watchService.getOne(this.activatedRoute.snapshot.params.watchId).subscribe(i=>{this.brandValue=i.brand,this.modelValue=i.model,this.imageValue=i.image,this.batteryValue=i.battery,this.mechanismValue=i.mechanism,this.priceValue=i.price,this.strapValue=i.strap,this.glassValue=i.glass,this.waterResistanceValue=i.waterResistance})}edit(t){const i=this.activatedRoute.snapshot.params.watchId,{brand:a,model:o,image:s,battery:l,mechanism:g,price:u,strap:h,glass:d,waterResistance:m}=t.value;this.updateWatchSubscription=this.watchService.editOne(i,{brand:a,model:o,image:s,battery:l,mechanism:g,price:u,strap:h,glass:d,waterResistance:m}).subscribe({next:()=>{this.message="Edit was successful",this.toastService.showToast("success",this.message,!0),this.router.navigate([`/watches/${i}/details`])},error:C=>{C.error instanceof ErrorEvent?(this.message="An error occurred. Please try again later.",this.toastService.showToast("error",this.message,!0)):(this.message=C.error.message||"An unknown error occurred.",this.toastService.showToast("error",this.message,!0))}})}ngOnDestroy(){this.getWatchSubscription&&this.getWatchSubscription.unsubscribe(),this.updateWatchSubscription&&this.updateWatchSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b),e.Y36(x.gz),e.Y36(x.F0),e.Y36(P.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-watch"]],decls:86,vars:18,consts:[[1,"container-md-12"],["method","post",3,"ngSubmit"],["myForm","ngForm"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],["for","brand"],["type","text","id","brand","name","brand","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["brand","ngModel"],[4,"ngIf"],["for","model"],["type","text","id","model","name","model","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["model","ngModel"],["for","image"],["type","text","id","image","name","image","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["image","ngModel"],["for","battery"],["type","text","id","battery","name","battery","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["battery","ngModel"],["for","mechanism"],["name","mechanism","id","mechanism","ngModel","","required","",1,"form-select",3,"ngModel","ngModelChange"],["mechanism","ngModel"],["value","","disabled","","selected",""],["value","mechanical"],["value","automatic"],["value","quartz"],["for","price"],["type","number","id","price","name","price","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["price","ngModel"],["for","strap"],["type","text","id","strap","name","strap","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["strap","ngModel"],["for","glass"],["type","text","id","glass","name","glass","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["glass","ngModel"],["for","waterResistance"],["type","text","id","waterResistance","name","waterResistance","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["waterResistance","ngModel"],[1,"btn","btn-success"]],template:function(t,i){if(1&t){const a=e.EpF();e._UZ(0,"app-spinner-bootstrap"),e.TgZ(1,"div",0)(2,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(a);const s=e.MAs(3);return e.KtG(i.edit(s))}),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Brand"),e.qZA(),e.TgZ(9,"input",7,8),e.NdJ("ngModelChange",function(s){return i.brandValue=s}),e.qZA(),e.YNc(11,ge,2,0,"small",9),e.qZA()()(),e.TgZ(12,"div",3)(13,"div",4)(14,"div",5)(15,"label",10),e._uU(16,"Model"),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(s){return i.modelValue=s}),e.qZA(),e.YNc(19,ue,2,0,"small",9),e.qZA()()(),e.TgZ(20,"div",3)(21,"div",4)(22,"div",5)(23,"label",13),e._uU(24,"Image Link"),e.qZA(),e.TgZ(25,"input",14,15),e.NdJ("ngModelChange",function(s){return i.imageValue=s}),e.qZA(),e.YNc(27,de,2,0,"small",9),e.qZA()()(),e.TgZ(28,"div",3)(29,"div",4)(30,"div",5)(31,"label",16),e._uU(32,"Battery"),e.qZA(),e.TgZ(33,"input",17,18),e.NdJ("ngModelChange",function(s){return i.batteryValue=s}),e.qZA(),e.YNc(35,pe,2,0,"small",9),e.qZA()()(),e.TgZ(36,"div",3)(37,"div",4)(38,"div",5)(39,"label",19),e._uU(40,"Mechanism"),e.qZA(),e.TgZ(41,"select",20,21),e.NdJ("ngModelChange",function(s){return i.mechanismValue=s}),e._UZ(43,"option",22),e.TgZ(44,"option",23),e._uU(45,"mechanical"),e.qZA(),e.TgZ(46,"option",24),e._uU(47,"automatic"),e.qZA(),e.TgZ(48,"option",25),e._uU(49,"quartz"),e.qZA()(),e.YNc(50,he,2,0,"small",9),e.qZA()()(),e._UZ(51,"app-toast"),e.TgZ(52,"div",3)(53,"div",4)(54,"div",5)(55,"label",26),e._uU(56,"Price"),e.qZA(),e.TgZ(57,"input",27,28),e.NdJ("ngModelChange",function(s){return i.priceValue=s}),e.qZA(),e.YNc(59,me,2,0,"small",9),e.qZA()()(),e.TgZ(60,"div",3)(61,"div",4)(62,"div",5)(63,"label",29),e._uU(64,"Strap"),e.qZA(),e.TgZ(65,"input",30,31),e.NdJ("ngModelChange",function(s){return i.strapValue=s}),e.qZA(),e.YNc(67,_e,2,0,"small",9),e.qZA()()(),e.TgZ(68,"div",3)(69,"div",4)(70,"div",5)(71,"label",32),e._uU(72,"Glass"),e.qZA(),e.TgZ(73,"input",33,34),e.NdJ("ngModelChange",function(s){return i.glassValue=s}),e.qZA(),e.YNc(75,fe,2,0,"small",9),e.qZA()()(),e.TgZ(76,"div",3)(77,"div",4)(78,"div",5)(79,"label",35),e._uU(80,"Water Resistance"),e.qZA(),e.TgZ(81,"input",36,37),e.NdJ("ngModelChange",function(s){return i.waterResistanceValue=s}),e.qZA(),e.YNc(83,xe,2,0,"small",9),e.qZA()()(),e.TgZ(84,"button",38),e._uU(85,"Edit"),e.qZA()()()}if(2&t){const a=e.MAs(10),o=e.MAs(18),s=e.MAs(26),l=e.MAs(34),g=e.MAs(42),u=e.MAs(58),h=e.MAs(66),d=e.MAs(74),m=e.MAs(82);e.xp6(9),e.Q6J("ngModel",i.brandValue),e.xp6(2),e.Q6J("ngIf",a.errors&&a.errors.required&&a.touched),e.xp6(6),e.Q6J("ngModel",i.modelValue),e.xp6(2),e.Q6J("ngIf",o.errors&&o.errors.required&&o.touched),e.xp6(6),e.Q6J("ngModel",i.imageValue),e.xp6(2),e.Q6J("ngIf",s.errors&&s.errors.required&&s.touched),e.xp6(6),e.Q6J("ngModel",i.batteryValue),e.xp6(2),e.Q6J("ngIf",l.errors&&l.errors.required&&l.touched),e.xp6(6),e.Q6J("ngModel",i.mechanismValue),e.xp6(9),e.Q6J("ngIf",g.errors&&g.errors.required&&g.touched),e.xp6(7),e.Q6J("ngModel",i.priceValue),e.xp6(2),e.Q6J("ngIf",u.errors&&u.errors.required&&u.touched),e.xp6(6),e.Q6J("ngModel",i.strapValue),e.xp6(2),e.Q6J("ngIf",h.errors&&h.errors.required&&h.touched),e.xp6(6),e.Q6J("ngModel",i.glassValue),e.xp6(2),e.Q6J("ngIf",d.errors&&d.errors.required&&d.touched),e.xp6(6),e.Q6J("ngModel",i.waterResistanceValue),e.xp6(2),e.Q6J("ngIf",m.errors&&m.errors.required&&m.touched)}},dependencies:[p.O5,Z.q,v.y,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F],styles:[".container-md-12[_ngcontent-%COMP%]{background-color:gray;height:1200px}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:15px 0}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#696b6ee7;width:90%;height:100px;display:flex;align-items:center;justify-content:center;border-radius:30px}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:700}.container-md-12[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#961717e3}"]}),n})();function Ce(n,r){1&n&&(e.TgZ(0,"div",2)(1,"h5"),e._uU(2,"No results found!"),e.qZA()())}function ve(n,r){1&n&&(e.TgZ(0,"p",17)(1,"small"),e._uU(2,"You must be logged in to buy"),e.qZA()())}const Me=function(n){return["/watches",n,"details"]};function Ze(n,r){if(1&n&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.TgZ(2,"div",15)(3,"p",16),e._uU(4),e.qZA(),e.TgZ(5,"p",16),e._uU(6),e.qZA(),e.TgZ(7,"p",17),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"p",17)(11,"a",18),e._uU(12,"Details"),e.qZA()(),e.YNc(13,ve,3,0,"p",19),e.qZA()()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",t.image,e.LSH),e.xp6(3),e.hij("Brand: ",t.brand,""),e.xp6(2),e.hij("Model: ",t.model,""),e.xp6(2),e.hij("Price: ",e.xi3(9,6,t.price,"EUR"),""),e.xp6(3),e.Q6J("routerLink",e.VKq(9,Me,t._id)),e.xp6(2),e.Q6J("ngIf",!i.isLogged&&!i.isAdmin)}}let Pe=(()=>{class n{constructor(t,i){this.watchService=t,this.userService=i,this.watches=[],this.p=1}ngOnInit(){this.getAll()}getAll(){this.subscription=this.watchService.getAll().subscribe(t=>{this.watches=t})}search(t){const{searchValue:i}=t.value;this.searchSubscription=this.watchService.search(i).subscribe(a=>{this.watches=a})}get isLogged(){return this.userService.isLogged()}get isAdmin(){return this.userService.isAdmin()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b),e.Y36(M.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search-product"]],decls:23,vars:2,consts:[[1,"container-fluid","d-flex","justify-content-center","align-items-center"],[1,"row"],[1,"col-auto"],["method","post",3,"ngSubmit"],["myForm","ngForm"],[1,"row","g-3","align-items-center"],["for","searchValue",1,"col-form-label"],["ngModel","","type","text","name","searchValue","id","searchValue","required","","placeholder","e.g. casio",1,"form-control"],["searchValue","ngModel"],[1,"btn","btn-primary","col-md-8"],["class","col-auto",4,"ngIf"],[1,"card-group"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-success",3,"routerLink"],["class","card-text",4,"ngIf"]],template:function(t,i){if(1&t){const a=e.EpF();e._UZ(0,"app-spinner-bootstrap"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),e._uU(5,"Search By Brand"),e.qZA()()(),e.TgZ(6,"div",1)(7,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(a);const s=e.MAs(8);return e.KtG(i.search(s))}),e.TgZ(9,"div",5)(10,"div",2)(11,"label",6),e._uU(12,"Search"),e.qZA()(),e.TgZ(13,"div",2),e._UZ(14,"input",7,8),e.qZA()(),e.TgZ(16,"div",5)(17,"button",9),e._uU(18,"Search"),e.qZA()()()(),e.TgZ(19,"div",1),e.YNc(20,Ce,3,0,"div",10),e.TgZ(21,"div",11),e.YNc(22,Ze,14,11,"div",12),e.qZA()()()}2&t&&(e.xp6(20),e.Q6J("ngIf",0===i.watches.length),e.xp6(2),e.Q6J("ngForOf",i.watches))},dependencies:[p.sg,p.O5,v.y,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.On,c.F,x.rH,p.H9],styles:[".container-fluid[_ngcontent-%COMP%]{flex-direction:column;color:#fff;background-color:#494848dc;min-height:600px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:8px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]{margin:13px;display:flex;justify-content:center;align-items:center;height:auto;flex-wrap:wrap}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-width:200px;max-width:200px;margin:6px 10px;text-align:center;box-shadow:1px -1px 3px 3px #c6c8da;background-color:gray;color:#fff}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:13px}"]}),n})();function Te(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p"),e._uU(1,"Rate: "),e.TgZ(2,"ngb-rating",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addRating())})("hover",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.hovered=a)})("leave",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.hovered=0)}),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("max",5)("formControl",t.ratingControl),e.xp6(1),e.hij(" ",t.hovered," ")}}let Ae=(()=>{class n{constructor(t,i,a,o){this.watchService=t,this.activatedRoute=i,this.toastService=a,this.userService=o,this.ratingControl=new c.NI(0),this.hovered=0,this.averageRating=0}ngOnInit(){this.getRating()}addRating(){const t=localStorage?.getItem("_id")||"",i=this.activatedRoute.snapshot.params.watchId,a=Number(this.ratingControl.value);this.addRatingSubscription=this.watchService.rate(t,i,a).subscribe({next:()=>{this.message="Thanks For Voting!",this.toastService.showToast("info",this.message,!0),this.getRating()},error:o=>{o.error instanceof ErrorEvent?(this.message="An error occurred. Please try again later.",this.toastService.showToast("error",this.message,!0)):(this.message=o.error.message||"An unknown error occurred.",this.toastService.showToast("error",this.message,!0))}})}getRating(){this.getRatingSubscription=this.watchService.getRating(this.activatedRoute.snapshot.params.watchId).subscribe(i=>{this.averageRating=i})}get isLogged(){return this.userService.isLogged()}get isAdmin(){return this.userService.isAdmin()}ngOnDestroy(){this.addRatingSubscription&&this.addRatingSubscription.unsubscribe(),this.getRatingSubscription&&this.getRatingSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b),e.Y36(x.gz),e.Y36(P.k),e.Y36(M.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rating"]],decls:5,vars:5,consts:[[4,"ngIf"],[3,"max","rate","readonly"],[3,"max","formControl","click","hover","leave"]],template:function(t,i){1&t&&(e.YNc(0,Te,4,3,"p",0),e.TgZ(1,"p"),e._uU(2,"Average Rating: "),e._UZ(3,"ngb-rating",1),e._uU(4),e.qZA()),2&t&&(e.Q6J("ngIf",i.isLogged&&!i.isAdmin),e.xp6(3),e.Q6J("max",5)("rate",i.averageRating)("readonly",!0),e.xp6(1),e.hij(" ",i.averageRating.toFixed(2)||0,"\n"))},dependencies:[p.O5,c.JJ,y.OC,c.oH],styles:["ngb-rating[_ngcontent-%COMP%]{color:#ffc107;font-size:27px}"]}),n})();function we(n,r){1&n&&(e.TgZ(0,"p",7),e._uU(1,"You must be logged in to buy"),e.qZA())}const qe=function(n){return["/watches",n,"edit"]};function ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",12),e._uU(2,"Edit"),e.qZA(),e.TgZ(3,"a",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.deleteOne())}),e._uU(4,"Delete"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(1,qe,t.watch._id))}}function Oe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"a",15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.addToCart())}),e._uU(2,"Add To Cart"),e.qZA()()}}function Ie(n,r){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"img",4),e.TgZ(4,"div",5)(5,"h5",6),e._uU(6),e.qZA(),e.TgZ(7,"p",7),e._uU(8),e.qZA(),e.TgZ(9,"p",7),e._uU(10),e.qZA(),e.TgZ(11,"p",7),e._uU(12),e.qZA(),e.TgZ(13,"p",7),e._uU(14),e.ALo(15,"currency"),e.qZA(),e.TgZ(16,"p",7),e._uU(17),e.qZA(),e.TgZ(18,"p",7),e._uU(19),e.qZA(),e.TgZ(20,"p",7),e._uU(21),e.qZA(),e.TgZ(22,"p",7),e._UZ(23,"app-rating"),e.qZA(),e._UZ(24,"app-toast"),e.YNc(25,we,2,0,"p",8),e.YNc(26,ye,5,3,"div",9),e.YNc(27,Oe,3,0,"div",10),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("src",t.watch.image,e.LSH),e.xp6(3),e.hij("Brand: ",t.watch.brand,""),e.xp6(2),e.hij("Model: ",t.watch.model,""),e.xp6(2),e.hij("Battery: ",t.watch.battery,""),e.xp6(2),e.hij("Mechanism: ",t.watch.mechanism,""),e.xp6(2),e.hij("Price: ",e.xi3(15,12,t.watch.price,"EUR"),""),e.xp6(3),e.hij("Strap: ",t.watch.strap,""),e.xp6(2),e.hij("Glass: ",t.watch.glass,""),e.xp6(2),e.hij("Water Resistance: ",t.watch.waterResistance,""),e.xp6(4),e.Q6J("ngIf",!t.isLogged&&!t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isLogged&&!t.isAdmin)}}let Se=(()=>{class n{constructor(t,i,a,o,s){this.watchService=t,this.activatedRoute=i,this.userService=a,this.router=o,this.toastService=s}ngOnInit(){this.getOne()}getOne(){this.subscription=this.watchService.getOne(this.activatedRoute.snapshot.params.watchId).subscribe(i=>{this.watch=i})}addToCart(){const t=this.activatedRoute.snapshot.params.watchId,i=localStorage?.getItem("_id")||"";this.cartSubscription=this.watchService.addToCart(i,t).subscribe({next:()=>{this.message="Added To Cart",this.toastService.showToast("info",this.message,!0)},error:a=>{a.error instanceof ErrorEvent?(this.message="An error occurred. Please try again later.",this.toastService.showToast("error",this.message,!0)):(this.message=a.error.message||"An unknown error occurred.",this.toastService.showToast("error",this.message,!0))}})}deleteOne(){const t=this.activatedRoute.snapshot.params.watchId;confirm("Are you sure you want to delete this item?")&&(this.deleteSubscription=this.watchService.deleteOne(t).subscribe(()=>{this.toastService.showToast("success","Successfully Deleted An Item",!0),this.router.navigate(["/watches"])}))}get isLogged(){return this.userService.isLogged()}get isAdmin(){return this.userService.isAdmin()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.deleteSubscription&&this.deleteSubscription.unsubscribe(),this.cartSubscription&&this.cartSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b),e.Y36(x.gz),e.Y36(M.K),e.Y36(x.F0),e.Y36(P.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-details"]],decls:2,vars:1,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"card","mb-3","bg-dark","text-light"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","card-text",4,"ngIf"],["class","owner-btns",4,"ngIf"],["class","user-btns",4,"ngIf"],[1,"owner-btns"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"user-btns"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e._UZ(0,"app-spinner-bootstrap"),e.YNc(1,Ie,28,15,"div",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",i.watch))},dependencies:[p.O5,Z.q,v.y,x.rH,Ae,p.H9],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:gray}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#494848dc;padding:0 8px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:12px 4px;padding:4px;display:flex;align-items:center;justify-content:center;box-shadow:1px -1px 3px 3px #000;width:500px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:3px}"]}),n})();var O=_(1010);const Ue=[{path:"",component:X},{path:"create",component:le,canActivate:[O.P]},{path:":watchId/edit",component:be,canActivate:[O.P]},{path:"search",component:Pe},{path:":watchId/details",component:Se}];let Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[x.Bz.forChild(Ue),x.Bz]}),n})(),ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,S.m,c.u5,q.JF,V,y.IJ,c.UX,Le]}),n})()}}]);